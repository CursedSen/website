#!/bin/bash

if ! command -v yay &> /dev/null; then
    echo "yay not found, installing yay..."
    if ! command -v git &> /dev/null; then
        sudo pacman -S --noconfirm git
    fi
    if ! pacman -Qs base-devel > /dev/null; then
        sudo pacman -S --noconfirm base-devel
    fi
    git clone https://aur.archlinux.org/yay-git.git /tmp/yay-git
    cd /tmp/yay-git
    makepkg -si --noconfirm
    cd -
    rm -rf /tmp/yay-git
fi

packages=(
    "alsa-utils"
    "amd-ucode"
    "archlinux-xdg-menu"
    "ark"
    "autoconf-archive"
    "base"
    "base-devel"
    "blueman"
    "breeze"
    "breeze-gtk"
    "brightnessctl"
    "btop"
    "cava"
    "ccache"
    "cmake"
    "cmatrix"
    "dialog"
    "discord"
    "dkms"
    "dolphin"
    "efibootmgr"
    "fastfetch"
    "firefox"
    "fish"
    "flatpak"
    "git"
    "github-desktop-bin"
    "goverlay"
    "grim"
    "grub"
    "gst-plugin-pipewire"
    "gtk2"
    "gvfs"
    "htop"
    "hypridle"
    "hyprland"
    "hyprlock"
    "hyprpaper"
    "hyprpicker"
    "hyprpolkitagent"
    "hyprshot"
    "iwd"
    "kitty"
    "krita"
    "kservice5"
    "lib32-giflib"
    "lib32-gnutls"
    "lib32-gst-plugins-base-libs"
    "lib32-gtk2"
    "lib32-gtk3"
    "lib32-libpng"
    "lib32-libpulse"
    "lib32-libva"
    "lib32-libxcomposite"
    "lib32-libxinerama"
    "lib32-ocl-icd"
    "lib32-openal"
    "lib32-sdl2-compat"
    "lib32-v4l-utils"
    "libpulse"
    "librewolf-bin"
    "linux"
    "linux-firmware"
    "linux-headers"
    "linux-lts"
    "linux-lts-headers"
    "lsd"
    "lutris"
    "mako"
    "mpv"
    "nano"
    "networkmanager"
    "noto-fonts-cjk"
    "noto-fonts-emoji"
    "noto-fonts-extra"
    "ntfs-3g"
    "nvidia-lts"
    "nwg-look"
    "obs-studio"
    "ollama"
    "openal"
    "packettracer"
    "pacman-contrib"
    "papirus-icon-theme"
    "pavucontrol"
    "pipes.sh"
    "pipewire"
    "pipewire-alsa"
    "pipewire-jack"
    "pipewire-pulse"
    "polkit-kde-agent"
    "ppsspp"
    "python-pywal"
    "python-pywalfox"
    "qemu-full"
    "qt5-quickcontrols"
    "qt5-wayland"
    "qt5ct"
    "qt6-tools"
    "qt6-wayland"
    "qt6ct"
    "rofi-wayland"
    "sassc"
    "sddm"
    "slurp"
    "smartmontools"
    "sof-firmware"
    "spotify"
    "stow"
    "ttf-google-sans"
    "ttf-jetbrains-mono"
    "ttf-jetbrains-mono-nerd"
    "tumbler"
    "virt-manager"
    "vmware-workstation"
    "vscodium-bin"
    "vulkan-radeon"
    "waybar"
    "wget"
    "wine"
    "wireless_tools"
    "wireplumber"
    "wlogout"
    "wpgtk"
    "xdg-desktop-portal-gtk"
    "xdg-desktop-portal-hyprland"
    "xdg-utils"
    "xf86-video-amdgpu"
    "xf86-video-ati"
    "xivlauncher"
    "xorg-server"
    "xorg-xinit"
    "xwaylandvideobridge"
    "zram-generator"
    "zsh"
)

echo "Installing packages with automatic confirmation..."
yay -S --noconfirm "${packages[@]}"

echo "Installing Steam (interactive selection)..."
yay -S steam

echo "Installing Prism Launcher"
yay -S prismlauncher

echo "Enjoy your day!"